function trying_get_category_list()
{
    console.log("dialog create connect with name 'request to proxy'");    
    var port = new Portman("request_to_proxy", true);
    //console.log("post message <get catetory list>", );
    port.post({command: "get", info: "category_list"});
    port.process_message = function (m) {
        //console.log("get response");        
       //get cat list
       if (m.command === 'get' && m.info === 'category_list')
       {
            var catlist= m.givin_data;
            my_select_form.set_options(catlist, catlist[0]);
           
            //get tag list
            port.post({command: "get", info: "tag_list", "category": catlist[0]});
            port.process_message = function (m) {
                if (m.command === 'get' && m.info === 'tag_list')
                {
                    console.log("tag list givin!");
                    select_tag.set_options(m.givin, m.givin[0]);
                }
            }
       }
        
    }
}



Библиотечка обёрток упрощает работу, но не слишком. Надо что-то сделать с этими вложенными блоками функций.